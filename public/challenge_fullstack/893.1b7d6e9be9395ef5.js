"use strict";(self.webpackChunkchallenge_fullstack=self.webpackChunkchallenge_fullstack||[]).push([[893],{7893:(je,I,s)=>{s.r(I),s.d(I,{ComponentsModule:()=>$e});var h=s(1083),u=s(9808),l=s(3075),e=s(5e3),b=s(2843),x=s(262),J=s(4004),N=s(520),S=s(7261);let Z=(()=>{class o{constructor(t,r){this.http=t,this.snackBar=r,this.endpoint="http://127.0.0.1:4000/api/v0",this.headers=(new N.WM).set("Content-Type","application/json")}Add(t,r){return this.http.post(`${this.endpoint}/${t}`,r).pipe((0,x.K)(a=>(this.errorMgmt(a),(0,b._)(()=>a))))}Get(t,r=null){let i="";return null!=r&&(i=Object.keys(r).map(a=>`${a}=${r[a]}`).join("&")),this.http.get(`${this.endpoint}/${t}?${i}`)}GetByID(t,r){let i=`${this.endpoint}/${t}/${String(r)}`;return this.http.get(i,{headers:this.headers}).pipe((0,J.U)(a=>a||{}),(0,x.K)(a=>(this.errorMgmt(a),(0,b._)(()=>a))))}Update(t,r,i){let a=`${this.endpoint}/${t}/${String(r)}`;return this.http.put(a,i,{headers:this.headers}).pipe((0,x.K)(m=>(this.errorMgmt(m),(0,b._)(()=>m))))}Delete(t,r){var i=`${this.endpoint}/${t}/${String(r)}`;return this.http.delete(i).pipe((0,x.K)(a=>(this.errorMgmt(a),(0,b._)(()=>a))))}openSnackBar(t,r){this.snackBar.open(t,r,{duration:2e3,panelClass:["snackbar"]})}errorMgmt(t){let r="";r=""!=t.error.message?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,this.openSnackBar(r,"ok")}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(N.eN),e.LFG(S.ux))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var f=s(4834),A=s(9224),d=s(7322),_=s(8833),F=s(4107),Y=s(4533),T=s(9815),g=s(7423),q=s(508);const Q=["resetDeveloperForm"];function E(o,n){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," You must provide a"),e.TgZ(2,"strong"),e._uU(3,"developer name"),e.qZA(),e.qZA())}function k(o,n){if(1&o&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.description," ")}}function M(o,n){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Gender is required "),e.qZA())}function O(o,n){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," You must provide a"),e.TgZ(2,"strong"),e._uU(3,"developer birth"),e.qZA(),e.qZA())}function z(o,n){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," You must provide a"),e.TgZ(2,"strong"),e._uU(3,"developer hobby"),e.qZA(),e.qZA())}function G(o,n){if(1&o&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}let B=(()=>{class o{constructor(t,r,i,a){this.fb=t,this.router=r,this.ngZone=i,this.Api=a,this.visible=!0,this.selectable=!0,this.removable=!0,this.addOnBlur=!0,this.GenderArray=[{description:"Masculine",value:"M"},{description:"Feminine",value:"F"}],this.LevelData=[],this.uri="developers",this.handleError=(m,v)=>this.developerForm.controls[m].hasError(v)}ngOnInit(){this.submitBookForm(),this.loadLevels()}submitBookForm(){this.developerForm=this.fb.group({name:["",[l.kI.required,l.kI.maxLength(50)]],gender:[null,[l.kI.required]],birth:[new Date,[l.kI.required]],hobby:["",[l.kI.required,l.kI.maxLength(200)]],level:this.fb.group({id:["",[l.kI.required]],name:[""]})})}loadLevels(t=""){this.Api.Get("levels",{name:t,limit:5,offset:0}).subscribe(i=>{this.LevelData=i.resultSet})}submitDeveloperForm(){var t;if(this.developerForm.valid){const r=null===(t=this.developerForm.get("birth"))||void 0===t?void 0:t.value;this.developerForm.patchValue({birth:new Date(r).toISOString()}),this.Api.Add(this.uri,this.developerForm.value).subscribe(i=>{this.ngZone.run(()=>this.router.navigateByUrl("/developers/list"))})}}displayLevel(t){if(!t)return"";let r=this.LevelData.findIndex(i=>i.id===t);return this.LevelData[r].name}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(l.qu),e.Y36(h.F0),e.Y36(e.R0b),e.Y36(Z))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add_developers"]],viewQuery:function(t,r){if(1&t&&e.Gf(Q,7),2&t){let i;e.iGM(i=e.CRH())&&(r.myNgForm=i.first)}},decls:40,vars:9,consts:[[1,"title-group"],[1,"mat-h1"],["fxFlex","1 0"],[1,"inner-wrapper"],["novalidate","",3,"formGroup","ngSubmit"],["resetDeveloperForm","ngForm"],[1,"controlers-wrapper"],[1,"example-full-width"],["matInput","","placeholder","Developer name","formControlName","name"],[4,"ngIf"],["formControlName","gender"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","date","placeholder","Developer birth","formControlName","birth"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","10","formControlName","hobby"],["autosize","cdkTextareaAutosize"],["formGroupName","level",1,"example-full-width"],["type","text","matInput","","formControlName","id",3,"matAutocomplete","keyup"],["filter",""],[3,"displayWith"],["auto","matAutocomplete"],[1,"full-wrapper","button-wrapper"],[1,"button-wrapper"],["mat-flat-button","","color","primary"],[3,"value"]],template:function(t,r){if(1&t){const i=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"h1",1),e._uU(2,"Add Developer"),e.qZA(),e._UZ(3,"mat-divider",2),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"form",4,5),e.NdJ("ngSubmit",function(){return r.submitDeveloperForm()}),e.TgZ(7,"mat-card"),e.TgZ(8,"div",6),e.TgZ(9,"mat-form-field",7),e._UZ(10,"input",8),e.YNc(11,E,4,0,"mat-error",9),e.qZA(),e.TgZ(12,"mat-form-field"),e.TgZ(13,"mat-label"),e._uU(14,"Developer gender"),e.qZA(),e.TgZ(15,"mat-select",10),e.YNc(16,k,2,2,"mat-option",11),e.qZA(),e.YNc(17,M,2,0,"mat-error",9),e.qZA(),e.TgZ(18,"mat-form-field",7),e._UZ(19,"input",12),e.YNc(20,O,4,0,"mat-error",9),e.qZA(),e.TgZ(21,"mat-form-field",7),e.TgZ(22,"mat-label"),e._uU(23,"Developer hobby"),e.qZA(),e._UZ(24,"textarea",13,14),e.YNc(26,z,4,0,"mat-error",9),e.qZA(),e.TgZ(27,"mat-form-field",15),e.TgZ(28,"mat-label"),e._uU(29,"Developer level"),e.qZA(),e.TgZ(30,"input",16,17),e.NdJ("keyup",function(){e.CHM(i);const m=e.MAs(31);return r.loadLevels(m.value)}),e.qZA(),e.TgZ(32,"mat-autocomplete",18,19),e.YNc(34,G,2,2,"mat-option",11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"mat-card"),e.TgZ(36,"div",20),e.TgZ(37,"div",21),e.TgZ(38,"button",22),e._uU(39,"Submit"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const i=e.MAs(33);e.xp6(5),e.Q6J("formGroup",r.developerForm),e.xp6(6),e.Q6J("ngIf",r.handleError("name","required")),e.xp6(5),e.Q6J("ngForOf",r.GenderArray),e.xp6(1),e.Q6J("ngIf",r.handleError("gender","required")),e.xp6(3),e.Q6J("ngIf",r.handleError("birth","required")),e.xp6(6),e.Q6J("ngIf",r.handleError("hobby","required")),e.xp6(4),e.Q6J("matAutocomplete",i),e.xp6(2),e.Q6J("displayWith",r.displayLevel.bind(r)),e.xp6(2),e.Q6J("ngForOf",r.LevelData)}},directives:[f.d,l._Y,l.JL,l.sg,A.a8,d.KE,_.Nt,l.Fj,l.JJ,l.u,u.O5,d.hX,F.gD,u.sg,Y.IC,l.x0,T.ZL,T.XC,g.lW,d.TO,q.ey],styles:[""]}),o})();var D=s(9062),p=s(4999),c=s(8966);let y=(()=>{class o{constructor(t,r){this.dialogRef=t,this.data=r}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.so),e.Y36(c.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-confirm-dialog"]],decls:9,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[2,"float","right","margin","20px"],["mat-raised-button","","color","light",2,"margin","0px 10px",3,"mat-dialog-close"],["mat-raised-button","","color","light",3,"mat-dialog-close"]],template:function(t,r){1&t&&(e.TgZ(0,"h1",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._uU(3),e.qZA(),e.TgZ(4,"div",2),e.TgZ(5,"button",3),e._uU(6,"Confirm"),e.qZA(),e.TgZ(7,"button",4),e._uU(8,"Cancel"),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Oqu(r.data.title),e.xp6(2),e.hij(" ",r.data.message,"\n"),e.xp6(2),e.Q6J("mat-dialog-close",!0),e.xp6(2),e.Q6J("mat-dialog-close",!1))},directives:[c.uh,c.xY,g.lW,c.ZT],styles:[""]}),o})();var L=s(5245);function R(o,n){1&o&&(e.TgZ(0,"p",6),e._uU(1,"There is no developer added yet!"),e.qZA())}function $(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"mat-form-field",7),e._UZ(1,"span",8),e.TgZ(2,"input",9),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().search_name=i}),e.qZA(),e.TgZ(3,"button",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return i.loadData(i.search_name)}),e.TgZ(4,"mat-icon"),e._uU(5,"search"),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.search_name)}}function H(o,n){1&o&&(e.TgZ(0,"th",26),e._uU(1," Developer ID "),e.qZA())}function j(o,n){if(1&o&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function W(o,n){1&o&&(e.TgZ(0,"th",26),e._uU(1," Developer name "),e.qZA())}function X(o,n){if(1&o&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function K(o,n){1&o&&(e.TgZ(0,"th",26),e._uU(1," Developer gender "),e.qZA())}function P(o,n){1&o&&(e.TgZ(0,"p"),e._uU(1,"Masculine"),e.qZA())}function V(o,n){1&o&&(e.TgZ(0,"p"),e._uU(1,"Feminine"),e.qZA())}function ee(o,n){if(1&o&&(e.TgZ(0,"td",27),e.YNc(1,P,2,0,"p",28),e.YNc(2,V,2,0,"p",28),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.Q6J("ngIf","M"==t.gender),e.xp6(1),e.Q6J("ngIf","F"==t.gender)}}function te(o,n){1&o&&(e.TgZ(0,"th",26),e._uU(1," Developer birth "),e.qZA())}function oe(o,n){if(1&o&&(e.TgZ(0,"td",27),e._uU(1),e.ALo(2,"date"),e.qZA()),2&o){const t=n.$implicit,r=e.oxw(2);e.xp6(1),e.AsE(" ",e.xi3(2,2,t.birth,"mediumDate")," ",r.CalculateAge(t.birth)," years")}}function re(o,n){1&o&&(e.TgZ(0,"th",26),e._uU(1," Developer hobby "),e.qZA())}function ie(o,n){if(1&o&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.hij(" ",t.hobby," ")}}function ne(o,n){1&o&&(e.TgZ(0,"th",26),e._uU(1," Developer level "),e.qZA())}function le(o,n){if(1&o&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.hij(" ",t.level.name," ")}}function ae(o,n){1&o&&(e.TgZ(0,"th",26),e._uU(1," Action "),e.qZA())}const se=function(o){return["/developers/edit/",o]};function pe(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"td",27),e.TgZ(1,"button",29),e._uU(2,"Edit"),e.qZA(),e.TgZ(3,"button",30),e.NdJ("click",function(){const i=e.CHM(t),a=i.index,m=i.$implicit;return e.oxw(2).deleteDevelopers(a,m)}),e._uU(4,"Delete"),e.qZA(),e.qZA()}if(2&o){const t=n.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(1,se,t.id))}}function me(o,n){1&o&&e._UZ(0,"tr",31)}function de(o,n){1&o&&e._UZ(0,"tr",32)}function ue(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",11),e.TgZ(1,"div",12),e.TgZ(2,"table",13),e.ynx(3,14),e.YNc(4,H,2,0,"th",15),e.YNc(5,j,2,1,"td",16),e.BQk(),e.ynx(6,17),e.YNc(7,W,2,0,"th",15),e.YNc(8,X,2,1,"td",16),e.BQk(),e.ynx(9,18),e.YNc(10,K,2,0,"th",15),e.YNc(11,ee,3,2,"td",16),e.BQk(),e.ynx(12,19),e.YNc(13,te,2,0,"th",15),e.YNc(14,oe,3,5,"td",16),e.BQk(),e.ynx(15,20),e.YNc(16,re,2,0,"th",15),e.YNc(17,ie,2,1,"td",16),e.BQk(),e.ynx(18,21),e.YNc(19,ne,2,0,"th",15),e.YNc(20,le,2,1,"td",16),e.BQk(),e.ynx(21,22),e.YNc(22,ae,2,0,"th",15),e.YNc(23,pe,5,3,"td",16),e.BQk(),e.YNc(24,me,1,0,"tr",23),e.YNc(25,de,1,0,"tr",24),e.qZA(),e.TgZ(26,"mat-paginator",25),e.NdJ("page",function(i){return e.CHM(t),e.oxw().handlePageEvent(i)}),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("dataSource",t.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",t.pageSizeOptions)("pageSize",t.pageSize)("length",t.length)("pageIndex",t.pageIndex)}}let ce=(()=>{class o{constructor(t,r){this.DeveloperApi=t,this.dialog=r,this.DeveloperData=[],this.uri="developers",this.dataSource=new p.by,this.pageSizeOptions=[5,10,12,15],this.search_name="",this.displayedColumns=["id","name","gender","birth","hobby","level","action"]}handlePageEvent(t){return this.DeveloperApi.Get(this.uri,{limit:t.pageSize,offset:t.pageIndex*t.pageSize}).subscribe(r=>{this.DeveloperData=r.resultSet,this.dataSource=new p.by(this.DeveloperData),this.pageIndex=0,this.pageSize=5,this.length=r.total}),t}loadData(t=""){this.DeveloperApi.Get(this.uri,{name:t,limit:this.pageSize,offset:0}).subscribe(i=>{this.DeveloperData=i.resultSet,this.dataSource=new p.by(this.DeveloperData),this.pageIndex=0,this.pageSize=5,this.length=i.total})}ngOnInit(){this.pageIndex=0,this.pageSize=5,this.loadData()}deleteDevelopers(t,r){this.dialog.open(y,{data:{title:"Confirm delete developer",message:"Are you sure, you want to delete an developer"}}).afterClosed().subscribe(a=>{!0===a&&this.DeveloperApi.Delete(this.uri,r.id).subscribe(m=>{this.loadData()})})}CalculateAge(t){const r=new Date(t),i=Math.abs(Date.now()-r.getTime());return Math.floor(i/864e5/365.25)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Z),e.Y36(c.uw))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-developers"]],viewQuery:function(t,r){if(1&t&&e.Gf(D.NW,5),2&t){let i;e.iGM(i=e.CRH())&&(r.paginator=i.first)}},decls:7,vars:3,consts:[[1,"title-group"],[1,"mat-h1"],["fxFlex","1 0"],["class","no-data",4,"ngIf"],["class","search",4,"ngIf"],["class","container",4,"ngIf"],[1,"no-data"],[1,"search"],["matPrefix",""],["type","text","matInput","","placeholder","Search by name","name","search_name",3,"ngModel","ngModelChange"],["matSuffix","","mat-button","",3,"click"],[1,"container"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","gender"],["matColumnDef","birth"],["matColumnDef","hobby"],["matColumnDef","level"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",1,"sticky","left-0",3,"pageSizeOptions","pageSize","length","pageIndex","page"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],["mat-raised-button","","color","primary",1,"push-right",3,"routerLink"],["mat-raised-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h1",1),e._uU(2,"Developers List"),e.qZA(),e._UZ(3,"mat-divider",2),e.qZA(),e.YNc(4,R,2,0,"p",3),e.YNc(5,$,6,1,"mat-form-field",4),e.YNc(6,ue,27,7,"div",5)),2&t&&(e.xp6(4),e.Q6J("ngIf",r.DeveloperData.length<=0),e.xp6(1),e.Q6J("ngIf",r.DeveloperData.length>0),e.xp6(1),e.Q6J("ngIf",r.DeveloperData.length>0))},directives:[f.d,u.O5,d.KE,d.qo,_.Nt,l.Fj,l.JJ,l.On,g.lW,d.R9,L.Hw,p.BZ,p.w1,p.fO,p.Dz,p.as,p.nj,D.NW,p.ge,p.ev,h.rH,p.XQ,p.Gk],pipes:[u.uU],styles:[".search[_ngcontent-%COMP%]{width:100%}"]}),o})();const ve=["resetDeveloperForm"];function he(o,n){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," You must provide a"),e.TgZ(2,"strong"),e._uU(3,"developer name"),e.qZA(),e.qZA())}function ge(o,n){if(1&o&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.description," ")}}function fe(o,n){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Gender is required "),e.qZA())}function _e(o,n){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," You must provide a"),e.TgZ(2,"strong"),e._uU(3,"developer birth"),e.qZA(),e.qZA())}function Ze(o,n){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," You must provide a"),e.TgZ(2,"strong"),e._uU(3,"developer hobby"),e.qZA(),e.qZA())}function Ae(o,n){if(1&o&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}let Te=(()=>{class o{constructor(t,r,i,a,m,v){this.fb=t,this.router=r,this.ngZone=i,this.Api=a,this.dialog=m,this.actRoute=v,this.visible=!0,this.selectable=!0,this.removable=!0,this.addOnBlur=!0,this.GenderArray=[{description:"Masculine",value:"M"},{description:"Feminine",value:"F"}],this.LevelData=[],this.uri="developers",this.handleError=(U,C)=>this.developerForm.controls[U].hasError(C)}ngOnInit(){this.loadLevels(),this.submitBookForm()}loadData(){const t=this.actRoute.snapshot.paramMap.get("id");this.Api.GetByID(this.uri,Number(t)).subscribe(r=>{const i=new Date(r.birth);this.developerForm=this.fb.group({name:[r.name,[l.kI.required]],gender:[r.gender,[l.kI.required]],birth:[i.toISOString().split("T")[0],[l.kI.required]],hobby:[r.hobby,[l.kI.required,l.kI.maxLength(200)]],level:this.fb.group({id:[r.level.id,[l.kI.required]],name:[r.level.name]})})})}submitBookForm(){this.developerForm=this.fb.group({name:["",[l.kI.required,l.kI.maxLength(50)]],gender:[null,[l.kI.required]],birth:[new Date,[l.kI.required]],hobby:["",[l.kI.required,l.kI.maxLength(200)]],level:this.fb.group({id:["",[l.kI.required]],name:[""]})})}loadLevels(t=""){this.Api.Get("levels",{name:t,limit:5,offset:0}).subscribe(i=>{this.LevelData=i.resultSet,this.loadData()})}updateDeveloperForm(){if(this.developerForm.valid){const t=this.actRoute.snapshot.paramMap.get("id");this.dialog.open(y,{data:{title:"Confirm edit developer",message:"Are you sure, you want to edit an developer"}}).afterClosed().subscribe(i=>{var a;if(!0===i){const m=null===(a=this.developerForm.get("birth"))||void 0===a?void 0:a.value;this.developerForm.patchValue({birth:new Date(m).toISOString()}),this.Api.Update(this.uri,Number(t),this.developerForm.value).subscribe(v=>{this.ngZone.run(()=>this.router.navigateByUrl("/developers/list"))})}})}}displayLevel(t){if(!t)return"";let r=this.LevelData.findIndex(i=>i.id===t);return this.LevelData[r].name}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(l.qu),e.Y36(h.F0),e.Y36(e.R0b),e.Y36(Z),e.Y36(c.uw),e.Y36(h.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-edit_developers"]],viewQuery:function(t,r){if(1&t&&e.Gf(ve,7),2&t){let i;e.iGM(i=e.CRH())&&(r.myNgForm=i.first)}},decls:40,vars:9,consts:[[1,"title-group"],[1,"mat-h1"],["fxFlex","1 0"],[1,"inner-wrapper"],["novalidate","",3,"formGroup","ngSubmit"],["resetDeveloperForm","ngForm"],[1,"controlers-wrapper"],[1,"example-full-width"],["matInput","","placeholder","Developer name","formControlName","name"],[4,"ngIf"],["formControlName","gender"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","date","placeholder","Developer birth","formControlName","birth"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","10","formControlName","hobby"],["autosize","cdkTextareaAutosize"],["formGroupName","level",1,"example-full-width"],["type","text","matInput","","formControlName","id",3,"matAutocomplete","keyup"],["filter",""],[3,"displayWith"],["auto","matAutocomplete"],[1,"full-wrapper","button-wrapper"],[1,"button-wrapper"],["mat-flat-button","","color","warn"],[3,"value"]],template:function(t,r){if(1&t){const i=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"h1",1),e._uU(2,"Edit Developer"),e.qZA(),e._UZ(3,"mat-divider",2),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"form",4,5),e.NdJ("ngSubmit",function(){return r.updateDeveloperForm()}),e.TgZ(7,"mat-card"),e.TgZ(8,"div",6),e.TgZ(9,"mat-form-field",7),e._UZ(10,"input",8),e.YNc(11,he,4,0,"mat-error",9),e.qZA(),e.TgZ(12,"mat-form-field"),e.TgZ(13,"mat-label"),e._uU(14,"Developer gender"),e.qZA(),e.TgZ(15,"mat-select",10),e.YNc(16,ge,2,2,"mat-option",11),e.qZA(),e.YNc(17,fe,2,0,"mat-error",9),e.qZA(),e.TgZ(18,"mat-form-field",7),e._UZ(19,"input",12),e.YNc(20,_e,4,0,"mat-error",9),e.qZA(),e.TgZ(21,"mat-form-field",7),e.TgZ(22,"mat-label"),e._uU(23,"Developer hobby"),e.qZA(),e._UZ(24,"textarea",13,14),e.YNc(26,Ze,4,0,"mat-error",9),e.qZA(),e.TgZ(27,"mat-form-field",15),e.TgZ(28,"mat-label"),e._uU(29,"Developer level"),e.qZA(),e.TgZ(30,"input",16,17),e.NdJ("keyup",function(){e.CHM(i);const m=e.MAs(31);return r.loadLevels(m.value)}),e.qZA(),e.TgZ(32,"mat-autocomplete",18,19),e.YNc(34,Ae,2,2,"mat-option",11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"mat-card"),e.TgZ(36,"div",20),e.TgZ(37,"div",21),e.TgZ(38,"button",22),e._uU(39,"Update"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const i=e.MAs(33);e.xp6(5),e.Q6J("formGroup",r.developerForm),e.xp6(6),e.Q6J("ngIf",r.handleError("name","required")),e.xp6(5),e.Q6J("ngForOf",r.GenderArray),e.xp6(1),e.Q6J("ngIf",r.handleError("gender","required")),e.xp6(3),e.Q6J("ngIf",r.handleError("birth","required")),e.xp6(6),e.Q6J("ngIf",r.handleError("hobby","required")),e.xp6(4),e.Q6J("matAutocomplete",i),e.xp6(2),e.Q6J("displayWith",r.displayLevel.bind(r)),e.xp6(2),e.Q6J("ngForOf",r.LevelData)}},directives:[f.d,l._Y,l.JL,l.sg,A.a8,d.KE,_.Nt,l.Fj,l.JJ,l.u,u.O5,d.hX,F.gD,u.sg,Y.IC,l.x0,T.ZL,T.XC,g.lW,d.TO,q.ey],styles:[""]}),o})();const De=["resetLevelForm"];function Ce(o,n){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," You must provide a"),e.TgZ(2,"strong"),e._uU(3,"level name"),e.qZA(),e.qZA())}let be=(()=>{class o{constructor(t,r,i,a){this.fb=t,this.router=r,this.ngZone=i,this.levelApi=a,this.visible=!0,this.selectable=!0,this.removable=!0,this.addOnBlur=!0,this.uri="levels",this.handleError=(m,v)=>this.levelForm.controls[m].hasError(v)}ngOnInit(){this.submitBookForm()}submitBookForm(){this.levelForm=this.fb.group({name:["",[l.kI.required]]})}submitLevelForm(){this.levelForm.valid&&this.levelApi.Add(this.uri,this.levelForm.value).subscribe(t=>{this.ngZone.run(()=>this.router.navigateByUrl("/levels/list"))})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(l.qu),e.Y36(h.F0),e.Y36(e.R0b),e.Y36(Z))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add_levels"]],viewQuery:function(t,r){if(1&t&&e.Gf(De,7),2&t){let i;e.iGM(i=e.CRH())&&(r.myNgForm=i.first)}},decls:17,vars:2,consts:[[1,"title-group"],[1,"mat-h1"],["fxFlex","1 0"],[1,"inner-wrapper"],["novalidate","",3,"formGroup","ngSubmit"],["resetLevelForm","ngForm"],[1,"controlers-wrapper"],[1,"example-full-width"],["matInput","","placeholder","Level name","formControlName","name"],[4,"ngIf"],[1,"full-wrapper","button-wrapper"],[1,"button-wrapper"],["mat-flat-button","","color","primary"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h1",1),e._uU(2,"Add Level"),e.qZA(),e._UZ(3,"mat-divider",2),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"form",4,5),e.NdJ("ngSubmit",function(){return r.submitLevelForm()}),e.TgZ(7,"mat-card"),e.TgZ(8,"div",6),e.TgZ(9,"mat-form-field",7),e._UZ(10,"input",8),e.YNc(11,Ce,4,0,"mat-error",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"mat-card"),e.TgZ(13,"div",10),e.TgZ(14,"div",11),e.TgZ(15,"button",12),e._uU(16,"Submit"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.Q6J("formGroup",r.levelForm),e.xp6(6),e.Q6J("ngIf",r.handleError("name","required")))},directives:[f.d,l._Y,l.JL,l.sg,A.a8,d.KE,_.Nt,l.Fj,l.JJ,l.u,u.O5,g.lW,d.TO],styles:[""]}),o})();const xe=["resetLevelForm"];function qe(o,n){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," You must provide a"),e.TgZ(2,"strong"),e._uU(3,"level name"),e.qZA(),e.qZA())}let ye=(()=>{class o{constructor(t,r,i,a,m,v){this.fb=t,this.router=r,this.ngZone=i,this.actRoute=a,this.levelApi=m,this.dialog=v,this.visible=!0,this.selectable=!0,this.removable=!0,this.addOnBlur=!0,this.uri="levels",this.handleError=(C,He)=>this.levelForm.controls[C].hasError(He);var U=this.actRoute.snapshot.paramMap.get("id");this.levelApi.GetByID(this.uri,Number(U)).subscribe(C=>{this.levelForm=this.fb.group({name:[C.name,[l.kI.required]]})})}ngOnInit(){this.updateBookForm()}updateBookForm(){this.levelForm=this.fb.group({name:["",[l.kI.required]]})}updateLevelForm(){const t=this.actRoute.snapshot.paramMap.get("id");this.dialog.open(y,{data:{title:"Confirm edit level",message:"Are you sure, you want to edit an level"}}).afterClosed().subscribe(i=>{!0===i&&this.levelApi.Update(this.uri,Number(t),this.levelForm.value).subscribe(a=>{this.ngZone.run(()=>this.router.navigateByUrl("/levels/list"))})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(l.qu),e.Y36(h.F0),e.Y36(e.R0b),e.Y36(h.gz),e.Y36(Z),e.Y36(c.uw))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-edit_levels"]],viewQuery:function(t,r){if(1&t&&e.Gf(xe,7),2&t){let i;e.iGM(i=e.CRH())&&(r.myNgForm=i.first)}},decls:17,vars:2,consts:[[1,"title-group"],[1,"mat-h1"],["fxFlex","1 0"],[1,"inner-wrapper"],["novalidate","",3,"formGroup","ngSubmit"],["resetLevelForm","ngForm"],[1,"controlers-wrapper"],[1,"example-full-width"],["matInput","","placeholder","Level name","formControlName","name"],[4,"ngIf"],[1,"full-wrapper","button-wrapper"],[1,"button-wrapper"],["mat-flat-button","","color","primary"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h1",1),e._uU(2,"Edit Level"),e.qZA(),e._UZ(3,"mat-divider",2),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"form",4,5),e.NdJ("ngSubmit",function(){return r.updateLevelForm()}),e.TgZ(7,"mat-card"),e.TgZ(8,"div",6),e.TgZ(9,"mat-form-field",7),e._UZ(10,"input",8),e.YNc(11,qe,4,0,"mat-error",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"mat-card"),e.TgZ(13,"div",10),e.TgZ(14,"div",11),e.TgZ(15,"button",12),e._uU(16,"Update"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.Q6J("formGroup",r.levelForm),e.xp6(6),e.Q6J("ngIf",r.handleError("name","required")))},directives:[f.d,l._Y,l.JL,l.sg,A.a8,d.KE,_.Nt,l.Fj,l.JJ,l.u,u.O5,g.lW,d.TO],styles:[""]}),o})();function Le(o,n){1&o&&(e.TgZ(0,"p",6),e._uU(1,"There is no level added yet!"),e.qZA())}function Fe(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"mat-form-field",7),e._UZ(1,"span",8),e.TgZ(2,"input",9),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().search_name=i}),e.qZA(),e.TgZ(3,"button",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return i.loadData(i.search_name)}),e.TgZ(4,"mat-icon"),e._uU(5,"search"),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.search_name)}}function Ue(o,n){1&o&&(e.TgZ(0,"th",22),e._uU(1," Level ID "),e.qZA())}function Ie(o,n){if(1&o&&(e.TgZ(0,"td",23),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function Ne(o,n){1&o&&(e.TgZ(0,"th",22),e._uU(1," Level name "),e.qZA())}function Ye(o,n){if(1&o&&(e.TgZ(0,"td",23),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function we(o,n){1&o&&(e.TgZ(0,"th",22),e._uU(1," Action "),e.qZA())}const Je=function(o){return["/levels/edit/",o]};function Se(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"td",23),e.TgZ(1,"button",24),e._uU(2,"Edit"),e.qZA(),e.TgZ(3,"button",25),e.NdJ("click",function(){const i=e.CHM(t),a=i.index,m=i.$implicit;return e.oxw(2).deleteLevels(a,m)}),e._uU(4,"Delete"),e.qZA(),e.qZA()}if(2&o){const t=n.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(1,Je,t.id))}}function Qe(o,n){1&o&&e._UZ(0,"tr",26)}function Ee(o,n){1&o&&e._UZ(0,"tr",27)}function ke(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",11),e.TgZ(1,"div",12),e.TgZ(2,"table",13),e.ynx(3,14),e.YNc(4,Ue,2,0,"th",15),e.YNc(5,Ie,2,1,"td",16),e.BQk(),e.ynx(6,17),e.YNc(7,Ne,2,0,"th",15),e.YNc(8,Ye,2,1,"td",16),e.BQk(),e.ynx(9,18),e.YNc(10,we,2,0,"th",15),e.YNc(11,Se,5,3,"td",16),e.BQk(),e.YNc(12,Qe,1,0,"tr",19),e.YNc(13,Ee,1,0,"tr",20),e.qZA(),e.TgZ(14,"mat-paginator",21),e.NdJ("page",function(i){return e.CHM(t),e.oxw().handlePageEvent(i)}),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("dataSource",t.dataSource),e.xp6(10),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",t.pageSizeOptions)("pageSize",t.pageSize)("length",t.length)("pageIndex",t.pageIndex)}}const Me=[{path:"",children:[{path:"levels/list",component:(()=>{class o{constructor(t,r){this.LevelApi=t,this.dialog=r,this.LevelData=[],this.uri="levels",this.dataSource=new p.by,this.pageSizeOptions=[5,10,12,15],this.search_name="",this.displayedColumns=["id","name","action"]}handlePageEvent(t){return this.LevelApi.Get(this.uri,{limit:t.pageSize,offset:t.pageIndex*t.pageSize}).subscribe(r=>{this.LevelData=r.resultSet,this.dataSource=new p.by(this.LevelData),this.pageIndex=0,this.pageSize=5,this.length=r.total}),t}loadData(t=""){this.LevelApi.Get(this.uri,{name:t,limit:this.pageSize,offset:0}).subscribe(i=>{this.LevelData=i.resultSet,this.dataSource=new p.by(this.LevelData),this.pageIndex=0,this.pageSize=5,this.length=i.total})}ngOnInit(){this.pageIndex=0,this.pageSize=5,this.loadData()}deleteLevels(t,r){this.dialog.open(y,{data:{title:"Confirm delete level",message:"Are you sure, you want to delete an level"}}).afterClosed().subscribe(a=>{!0===a&&this.LevelApi.Delete(this.uri,r.id).subscribe(m=>{this.loadData()})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Z),e.Y36(c.uw))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-levels"]],viewQuery:function(t,r){if(1&t&&e.Gf(D.NW,5),2&t){let i;e.iGM(i=e.CRH())&&(r.paginator=i.first)}},decls:7,vars:3,consts:[[1,"title-group"],[1,"mat-h1"],["fxFlex","1 0"],["class","no-data",4,"ngIf"],["class","search",4,"ngIf"],["class","container",4,"ngIf"],[1,"no-data"],[1,"search"],["matPrefix",""],["type","text","matInput","","placeholder","Search by name","name","search_name",3,"ngModel","ngModelChange"],["matSuffix","","mat-button","",3,"click"],[1,"container"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",1,"sticky","left-0",3,"pageSizeOptions","pageSize","length","pageIndex","page"],["mat-header-cell",""],["mat-cell",""],["mat-raised-button","","color","primary",1,"push-right",3,"routerLink"],["mat-raised-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h1",1),e._uU(2,"Levels List"),e.qZA(),e._UZ(3,"mat-divider",2),e.qZA(),e.YNc(4,Le,2,0,"p",3),e.YNc(5,Fe,6,1,"mat-form-field",4),e.YNc(6,ke,15,7,"div",5)),2&t&&(e.xp6(4),e.Q6J("ngIf",r.LevelData.length<=0),e.xp6(1),e.Q6J("ngIf",r.LevelData.length>0),e.xp6(1),e.Q6J("ngIf",r.LevelData.length>0))},directives:[f.d,u.O5,d.KE,d.qo,_.Nt,l.Fj,l.JJ,l.On,g.lW,d.R9,L.Hw,p.BZ,p.w1,p.fO,p.Dz,p.as,p.nj,D.NW,p.ge,p.ev,h.rH,p.XQ,p.Gk],styles:[".search[_ngcontent-%COMP%]{width:100%}"]}),o})(),data:{title:"List of levels",urls:[{title:"Levels",url:"/levels"},{title:"List"}]}},{path:"levels/add",component:be,data:{title:"Add levels",urls:[{title:"Levels",url:"/levels"},{title:"Add"}]}},{path:"levels/edit/:id",component:ye,data:{title:"Edit levels",urls:[{title:"Levels",url:"/levels"},{title:"Edit"}]}},{path:"developers/list",component:ce,data:{title:"List of developers",urls:[{title:"Developers",url:"/developers"},{title:"List"}]}},{path:"developers/add",component:B,data:{title:"Add developers",urls:[{title:"Developers",url:"/developers"},{title:"Add"}]}},{path:"developers/edit/:id",component:Te,data:{title:"Edit developers",urls:[{title:"Developers",url:"/developers"},{title:"Edit"}]}}]}];var Oe=s(2638),ze=s(4623),Ge=s(4594),Be=s(6688),w=s(6856),Re=s(9814);let $e=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[q.XK,w.FA],imports:[[u.ez,h.Bz.forChild(Me),l.UX,l.u5,f.t,A.QW,d.lN,_.c,L.Ps,F.LD,Be.Hi,w.FA,Re.Fk,D.TU,p.p0,Oe.SJ,L.Ps,ze.ie,Ge.g0,g.ot,q.XK,c.Is,T.Bb]]}),o})()}}]);